<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulado LGPD - Instituto AOCP</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F3F4F6;
            color: #1F2937;
        }
        .option-radio:checked + div {
            border-color: #2563EB;
            background-color: #EFF6FF;
            color: #1E40AF;
        }
        .option-radio:checked + div .check-circle {
            background-color: #2563EB;
            border-color: #2563EB;
            color: white;
        }
        
        /* Anima√ß√£o suave para o resultado */
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Estilo para resolu√ß√µes */
        .resolution-box {
            border-left: 4px solid;
        }
        .res-correct {
            border-color: #10B981; /* Verde */
            background-color: #ECFDF5;
        }
        .res-wrong {
            border-color: #EF4444; /* Vermelho */
            background-color: #FEF2F2;
        }
    </style>
</head>
<body class="antialiased">

    <div class="max-w-4xl mx-auto px-4 py-10">
        
        <!-- Cabe√ßalho -->
        <header class="text-center mb-12">
            <div class="inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl shadow-lg mb-6 transform rotate-3">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"></path>
                </svg>
            </div>
            <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4 tracking-tight">Simulado LGPD</h1>
            <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                Foco: <strong>Instituto AOCP</strong> | Lei 13.709/2018<br>
                Responda as 10 quest√µes abaixo. O gabarito e os coment√°rios aparecer√£o ao final.
            </p>
        </header>

        <!-- Container do Quiz -->
        <form id="quizForm" class="space-y-8">
            <!-- As quest√µes ser√£o injetadas aqui via JS -->
        </form>

        <!-- Bot√£o de Finalizar -->
        <div class="mt-12 text-center pb-20">
            <button type="button" onclick="finishQuiz()" id="btnFinish" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-10 rounded-xl shadow-xl transform transition hover:-translate-y-1 hover:shadow-2xl text-xl w-full md:w-auto">
                Finalizar Simulado e Ver Gabarito
            </button>

            <!-- Placar Final (Escondido inicialmente) -->
            <div id="resultPanel" class="hidden mt-10 bg-white p-8 rounded-2xl shadow-xl border border-gray-200 max-w-xl mx-auto fade-in">
                <div class="text-6xl mb-2" id="scoreIcon">üèÜ</div>
                <h2 class="text-3xl font-bold text-gray-800 mb-2">Resultado</h2>
                <div class="text-5xl font-black text-blue-600 mb-4">
                    <span id="scoreValue">0</span><span class="text-2xl text-gray-400 font-normal">/10</span>
                </div>
                <p id="scoreMessage" class="text-gray-600 text-lg mb-6"></p>
                <button type="button" onclick="window.scrollTo({top: 0, behavior: 'smooth'})" class="text-blue-600 font-semibold hover:underline">
                    Revisar Quest√µes
                </button>
            </div>
        </div>

    </div>

    <script>
        // Dados das Quest√µes
        const questions = [
            {
                id: 1,
                theme: "Princ√≠pios",
                text: "Um determinado banco programou uma campanha de empr√©stimos a juros baixos. Ap√≥s ampla campanha, v√°rios pretendentes subscreveram fichas com informa√ß√µes pessoais e autorizaram que o banco as divulgasse sempre que julgasse necess√°rio e sem comunica√ß√£o pr√©via. Nos termos da Lei n¬∫ 13.709/2018, a cl√°usula de divulga√ß√£o deve obedecer, especificamente, ao princ√≠pio da:",
                options: ["Negocia√ß√£o", "Taxa√ß√£o", "Men√ß√£o", "Refer√™ncia", "Transpar√™ncia"],
                correct: 4, // √çndice 4 = E
                comment: "<strong>Gabarito: E.</strong> Viola o Princ√≠pio da Transpar√™ncia (Art. 6¬∫, VI). O titular tem direito a informa√ß√µes claras, precisas e facilmente acess√≠veis sobre a realiza√ß√£o do tratamento. Uma cl√°usula gen√©rica de 'divulgar quando julgar necess√°rio' fere a autodetermina√ß√£o informativa."
            },
            {
                id: 2,
                theme: "Conceitos",
                text: "Para fins da Lei n¬∞ 13.709/2018, de Prote√ß√£o de Dados, considera-se dado anonimizado:",
                options: [
                    "A utiliza√ß√£o de meios t√©cnicos razo√°veis pelos quais um dado perde a possibilidade de associa√ß√£o a um indiv√≠duo.",
                    "O dado pessoal sobre origem racial ou √©tnica, convic√ß√£o religiosa ou sa√∫de.",
                    "O dado relativo a titular que n√£o possa ser identificado, considerando a utiliza√ß√£o de meios t√©cnicos razo√°veis e dispon√≠veis na ocasi√£o de seu tratamento.",
                    "A informa√ß√£o relacionada a pessoa natural identificada ou identific√°vel.",
                    "O conjunto estruturado de dados pessoais em suporte eletr√¥nico."
                ],
                correct: 2, // √çndice 2 = C
                comment: "<strong>Gabarito: C.</strong> Conforme Art. 5¬∫, III. Dado anonimizado √© o <em>resultado</em> (o dado que n√£o identifica mais). A alternativa A descreve o processo de anonimiza√ß√£o (Art. 5¬∫, XI). A alternativa B descreve dado sens√≠vel."
            },
            {
                id: 3,
                theme: "Bases Legais",
                text: "Assinale a alternativa que apresenta uma situa√ß√£o que N√ÉO constitui uma base legal direta do Art. 7¬∫ ou que representa uma defini√ß√£o INCORRETA de base legal:",
                options: [
                    "Mediante o fornecimento de consentimento pelo titular.",
                    "Para o cumprimento de obriga√ß√£o legal ou regulat√≥ria pelo controlador.",
                    "Para a prote√ß√£o da vida ou da incolumidade f√≠sica do titular ou de terceiro.",
                    "Quando necess√°rio para atender aos interesses leg√≠timos do controlador, independentemente dos direitos e liberdades fundamentais do titular.",
                    "Para a tutela da sa√∫de, exclusivamente, em procedimento realizado por profissionais de sa√∫de."
                ],
                correct: 3, // √çndice 3 = D
                comment: "<strong>Gabarito: D.</strong> A defini√ß√£o est√° incorreta. O Leg√≠timo Interesse (Art. 7¬∫, IX) <strong>n√£o</strong> pode ser usado 'independentemente dos direitos e liberdades fundamentais'. Pelo contr√°rio, ele s√≥ √© v√°lido <em>exceto</em> quando prevalecerem esses direitos."
            },
            {
                id: 4,
                theme: "Direitos do Titular",
                text: "Nos termos da LGPD, sobre o exerc√≠cio dos direitos de acesso facilitado √†s informa√ß√µes, assinale a alternativa correta.",
                options: [
                    "O acesso deve ser providenciado mediante pagamento de taxas administrativas.",
                    "O controlador deve fornecer as informa√ß√µes imediatamente (formato simplificado) ou em at√© 15 dias (declara√ß√£o completa).",
                    "O direito de portabilidade implica transfer√™ncia dos segredos comerciais do controlador original.",
                    "A confirma√ß√£o de exist√™ncia ser√° providenciada exclusivamente por meio eletr√¥nico, vedada c√≥pia impressa.",
                    "O titular n√£o possui direito de peticionar contra o controlador perante a ANPD."
                ],
                correct: 1, // √çndice 1 = B
                comment: "<strong>Gabarito: B.</strong> Art. 19, I e II. O acesso √© gratuito (erro da A). A portabilidade resguarda segredos comerciais (erro da C). O fornecimento pode ser impresso se o titular quiser (erro da D)."
            },
            {
                id: 5,
                theme: "San√ß√µes",
                text: "Os agentes de tratamento ficam sujeitos a san√ß√µes administrativas. Assinale a alternativa que apresenta corretamente uma dessas san√ß√µes:",
                options: [
                    "Reclus√£o de 2 a 4 anos.",
                    "Advert√™ncia, com indica√ß√£o de prazo para ado√ß√£o de medidas corretivas.",
                    "Multa simples de at√© 10% do faturamento, limitada a R$ 100 milh√µes.",
                    "Dissolu√ß√£o compuls√≥ria da sociedade empres√°ria.",
                    "Pris√£o preventiva do Encarregado (DPO)."
                ],
                correct: 1, // √çndice 1 = B
                comment: "<strong>Gabarito: B.</strong> Art. 52, I. A LGPD n√£o tem san√ß√µes penais como reclus√£o (erro da A e E). A multa √© de at√© 2% do faturamento, limitada a R$ 50 milh√µes (erro da C)."
            },
            {
                id: 6,
                theme: "Encarregado (DPO)",
                text: "Sobre o Encarregado (DPO) previsto no Art. 41 da LGPD, assinale a correta:",
                options: [
                    "Sua identidade deve ser mantida sob sigilo absoluto.",
                    "Deve ser necessariamente pessoa f√≠sica, vedada a contrata√ß√£o de escrit√≥rios.",
                    "Suas atividades consistem em aceitar reclama√ß√µes dos titulares, prestar esclarecimentos e adotar provid√™ncias.",
                    "Possui responsabilidade objetiva por todos os danos da empresa.",
                    "√â dispensado para √≥rg√£os da Administra√ß√£o P√∫blica."
                ],
                correct: 2, // √çndice 2 = C
                comment: "<strong>Gabarito: C.</strong> Art. 41, ¬ß2¬∫, I. A identidade deve ser p√∫blica (erro da A). Pode ser pessoa jur√≠dica (erro da B). A Adm. P√∫blica tamb√©m deve indicar (erro da E)."
            },
            {
                id: 7,
                theme: "Dados Sens√≠veis",
                text: "Sobre dados sens√≠veis de sa√∫de (Art. 11), assinale a veda√ß√£o expressa:",
                options: [
                    "√â vedada a comunica√ß√£o ou uso compartilhado entre controladores com objetivo de obter vantagem econ√¥mica (exceto portabilidade/sa√∫de suplementar).",
                    "√â vedado o acesso a dados de sa√∫de por m√©dicos em emerg√™ncias sem consentimento escrito.",
                    "√â vedada a utiliza√ß√£o de dados sens√≠veis para tutela da sa√∫de.",
                    "√â vedada a cobran√ßa diferenciada baseada em dados anonimizados.",
                    "√â vedado o tratamento de biometria em hospitais."
                ],
                correct: 0, // √çndice 0 = A
                comment: "<strong>Gabarito: A.</strong> Art. 11, ¬ß4¬∫. A lei pro√≠be vender dados de sa√∫de para lucro (vantagem econ√¥mica), salvo as exce√ß√µes t√©cnicas necess√°rias para o sistema funcionar."
            },
            {
                id: 8,
                theme: "Transfer√™ncia Internacional",
                text: "Assinale a alternativa que N√ÉO apresenta uma hip√≥tese v√°lida para transfer√™ncia internacional de dados:",
                options: [
                    "Para pa√≠ses com grau de prote√ß√£o adequado.",
                    "Quando o controlador oferecer garantias via cl√°usulas contratuais padr√£o.",
                    "Para coopera√ß√£o jur√≠dica internacional entre √≥rg√£os de intelig√™ncia.",
                    "Com consentimento espec√≠fico e em destaque do titular.",
                    "Mediante compromisso verbal da empresa destinat√°ria em respeitar a privacidade."
                ],
                correct: 4, // √çndice 4 = E
                comment: "<strong>Gabarito: E.</strong> A transfer√™ncia exige formalidade jur√≠dica (Art. 33). Compromisso verbal n√£o tem validade legal para autorizar fluxo internacional de dados."
            },
            {
                id: 9,
                theme: "Responsabilidade",
                text: "Um operador realiza tratamento violando a LGPD e as instru√ß√µes l√≠citas do controlador. A responsabilidade √©:",
                options: [
                    "Exclusiva do operador.",
                    "Solid√°ria, pois o operador equipara-se ao controlador ao descumprir instru√ß√µes.",
                    "Subsidi√°ria do controlador.",
                    "Apenas administrativa, sem efeitos civis.",
                    "Nula, pois a culpa √© do titular."
                ],
                correct: 1, // √çndice 1 = B
                comment: "<strong>Gabarito: B.</strong> Art. 42, ¬ß1¬∫, I. Quando o operador descumpre as instru√ß√µes l√≠citas, ele responde solidariamente pelos danos causados."
            },
            {
                id: 10,
                theme: "Princ√≠pios",
                text: "O princ√≠pio que garante aos titulares exatid√£o, clareza, relev√¢ncia e atualiza√ß√£o dos dados √© o da:",
                options: [
                    "Livre Acesso",
                    "Qualidade dos Dados",
                    "Seguran√ßa",
                    "Adequa√ß√£o",
                    "Preven√ß√£o"
                ],
                correct: 1, // √çndice 1 = B
                comment: "<strong>Gabarito: B.</strong> Art. 6¬∫, V. Qualidade dos dados refere-se √† exatid√£o e atualiza√ß√£o. Adequa√ß√£o refere-se √† compatibilidade com a finalidade."
            }
        ];

        const letters = ['A', 'B', 'C', 'D', 'E'];
        const quizForm = document.getElementById('quizForm');

        // Renderizar Quest√µes
        questions.forEach((q, index) => {
            const questionHTML = `
                <div class="bg-white rounded-2xl p-6 md:p-8 shadow-sm border border-gray-200 relative overflow-hidden" id="qbox-${q.id}">
                    <div class="flex justify-between items-center mb-6">
                        <span class="bg-blue-100 text-blue-800 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide">Quest√£o ${index + 1}</span>
                        <span class="text-gray-400 text-xs font-medium">${q.theme}</span>
                    </div>
                    
                    <p class="text-lg md:text-xl text-gray-800 mb-8 font-medium leading-relaxed">
                        ${q.text}
                    </p>

                    <div class="space-y-3">
                        ${q.options.map((opt, i) => `
                            <label class="block cursor-pointer group">
                                <input type="radio" name="q${q.id}" value="${i}" class="hidden option-radio">
                                <div class="flex items-start p-4 rounded-xl border border-gray-200 transition-all duration-200 hover:bg-gray-50 group-hover:border-gray-300">
                                    <div class="check-circle w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center mr-4 flex-shrink-0 text-sm font-bold text-gray-400 transition-colors">
                                        ${letters[i]}
                                    </div>
                                    <span class="text-gray-700 text-base pt-1">${opt}</span>
                                </div>
                            </label>
                        `).join('')}
                    </div>

                    <!-- √Årea de Resolu√ß√£o (Invis√≠vel inicialmente) -->
                    <div id="res-${q.id}" class="hidden mt-8 pt-6 border-t border-gray-100 fade-in">
                        <div class="resolution-box p-5 rounded-lg text-gray-800 text-base leading-relaxed">
                            <!-- √çcone e T√≠tulo injetados via JS -->
                            <div class="res-header font-bold text-lg mb-2 flex items-center gap-2"></div>
                            <div class="res-text">${q.comment}</div>
                        </div>
                    </div>
                </div>
            `;
            quizForm.innerHTML += questionHTML;
        });

        function finishQuiz() {
            let score = 0;
            let answeredCount = 0;
            const inputs = document.querySelectorAll('input[type="radio"]:checked');
            
            // Verificar quantas respondidas (opcional: for√ßar responder tudo)
            // Aqui vamos apenas calcular o que foi respondido
            
            // Desabilitar bot√£o e inputs
            document.getElementById('btnFinish').classList.add('hidden');
            const allInputs = document.querySelectorAll('input[type="radio"]');
            allInputs.forEach(inp => inp.disabled = true);

            questions.forEach(q => {
                const selected = document.querySelector(`input[name="q${q.id}"]:checked`);
                const resBox = document.getElementById(`res-${q.id}`);
                const innerBox = resBox.querySelector('.resolution-box');
                const header = resBox.querySelector('.res-header');
                
                // Mostrar caixa de resolu√ß√£o
                resBox.classList.remove('hidden');

                if (selected) {
                    const userVal = parseInt(selected.value);
                    if (userVal === q.correct) {
                        score++;
                        // Estilo de Acerto
                        innerBox.classList.add('res-correct');
                        header.innerHTML = `<svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> <span class="text-green-800">Correto!</span>`;
                        
                        // Destacar a op√ß√£o escolhida como verde
                        selected.nextElementSibling.style.backgroundColor = '#ECFDF5';
                        selected.nextElementSibling.style.borderColor = '#10B981';
                        selected.nextElementSibling.querySelector('.check-circle').style.backgroundColor = '#10B981';
                        selected.nextElementSibling.querySelector('.check-circle').style.borderColor = '#10B981';
                    } else {
                        // Estilo de Erro
                        innerBox.classList.add('res-wrong');
                        header.innerHTML = `<svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg> <span class="text-red-800">Incorreto</span>`;
                        
                        // Destacar a op√ß√£o errada como vermelho
                        selected.nextElementSibling.style.backgroundColor = '#FEF2F2';
                        selected.nextElementSibling.style.borderColor = '#EF4444';
                        selected.nextElementSibling.style.color = '#991B1B';
                        selected.nextElementSibling.querySelector('.check-circle').style.backgroundColor = '#EF4444';
                        selected.nextElementSibling.querySelector('.check-circle').style.borderColor = '#EF4444';
                    }
                } else {
                    // N√£o respondeu
                    innerBox.classList.add('bg-gray-100', 'border-gray-400');
                    header.innerHTML = `<span class="text-gray-600">N√£o respondida</span>`;
                }

                // Sempre destacar a CORRETA visualmente se o usu√°rio errou ou n√£o marcou
                if (!selected || parseInt(selected.value) !== q.correct) {
                    const correctInput = document.querySelector(`input[name="q${q.id}"][value="${q.correct}"]`);
                    if(correctInput) {
                        const div = correctInput.nextElementSibling;
                        div.style.border = '2px solid #10B981';
                        div.classList.add('ring-2', 'ring-green-100');
                        // Adicionar um pequeno texto "Correta"
                        const badge = document.createElement('span');
                        badge.className = 'ml-auto text-xs font-bold text-green-600 bg-green-100 px-2 py-1 rounded';
                        badge.innerText = 'CORRETA';
                        div.appendChild(badge);
                    }
                }
            });

            // Mostrar Placar
            const resultPanel = document.getElementById('resultPanel');
            const scoreValue = document.getElementById('scoreValue');
            const scoreMessage = document.getElementById('scoreMessage');
            const scoreIcon = document.getElementById('scoreIcon');

            scoreValue.innerText = score;
            resultPanel.classList.remove('hidden');

            if (score >= 9) {
                scoreMessage.innerText = "Excelente! Dom√≠nio total da lei.";
                scoreIcon.innerText = "üåü";
            } else if (score >= 7) {
                scoreMessage.innerText = "Muito bom! Voc√™ est√° no caminho certo.";
                scoreIcon.innerText = "üëè";
            } else if (score >= 5) {
                scoreMessage.innerText = "Bom, mas revise os erros para fixar.";
                scoreIcon.innerText = "üìö";
            } else {
                scoreMessage.innerText = "Aten√ß√£o aos detalhes da banca AOCP. Continue estudando!";
                scoreIcon.innerText = "‚ö†Ô∏è";
            }

            // Scroll suave at√© o resultado
            setTimeout(() => {
                resultPanel.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 100);
        }
    </script>
</body>
</html>